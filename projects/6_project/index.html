<div id="chat-root" style="height:75vh; border:1px solid rgba(0,0,0,.2); border-radius:12px;">
    <div style="padding:12px;font-family:system-ui;">Loading chat-widget.js…</div>
</div>
ddㅇㅇ
<script>
    (function () {
        const root = document.getElementById("chat-root");

        // baseurl 문제 피하려고 상대경로 + 캐시버스터
        const src = "../../assets/chat-widget/chat-widget.js?v=" + Date.now();

        const s = document.createElement("script");
        s.src = src;

        s.onload = function () {
            console.log("✅ Loaded:", src);
            console.log("ChatWidget after load:", window.ChatWidget);

            if (!window.ChatWidget || typeof window.ChatWidget.mount !== "function") {
                root.innerHTML =
                    "<div style='padding:12px;font-family:system-ui;color:#b00020'>" +
                    "❌ Script loaded, but window.ChatWidget.mount is missing.<br>" +
                    "→ You are not loading the bundle that exposes window.ChatWidget." +
                    "</div>";
                return;
            }

            window.ChatWidget.mount("#chat-root");
        };

        s.onerror = function () {
            root.innerHTML =
                "<div style='padding:12px;font-family:system-ui;color:#b00020'>" +
                "❌ Failed to load script:<br><code>" + src + "</code><br><br>" +
                "→ Usually 404 or you opened the page as file:// (not via jekyll serve)." +
                "</div>";
        };

        document.head.appendChild(s);
    })();
</script>
<script>
    window.process = window.process || { env: { NODE_ENV: "production" } };
</script>
<script src="/assets/chat-widget/chat-widget.js"></script>
<script>
    window.addEventListener("load", () => window.ChatWidget?.mount?.("#chat-root"));
</script>
